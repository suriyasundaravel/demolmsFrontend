{"version":3,"file":"src_app_eol_eol_module_ts.js","mappings":"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","sources":["./src/app/eol/eol-routing.module.ts","./src/app/eol/eol.module.ts","./src/app/eol/eol.page.ts","./src/app/eol/eol.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EOLPage } from './eol.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EOLPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EOLPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EOLPageRoutingModule } from './eol-routing.module';\n\nimport { EOLPage } from './eol.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EOLPageRoutingModule\n  ],\n  declarations: [EOLPage]\n})\nexport class EOLPageModule {}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, ToastController } from '@ionic/angular';\r\nimport { Observable } from 'rxjs';\r\nimport { DataService } from '../services/data.service';\r\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'app-eol',\r\n  templateUrl: './eol.page.html',\r\n  styleUrls: ['./eol.page.scss'],\r\n})\r\nexport class EOLPage implements OnInit {\r\n  private pencountData: Observable<any>;\r\n  public pencountRes:any=[];\r\n  private logresData: Observable<any>;\r\n  public resConfig:any=[];\r\n  leavemngtUrl:any;\r\n  public leave_type:any;\r\n  private searchRes:any=[];\r\n  public searchResult:any=[]\r\n  showDetails:boolean=true\r\n\r\n\r\n  getcount:any;\r\n  userId:any;\r\n  orgId:any;\r\n  start_date:any;\r\n  imageSrc: SafeUrl;\r\n  supervisorStatus:boolean;\r\n  historyCount:any;\r\n  constructor(public toastController: ToastController, public router:Router,\r\n    public dataService:DataService,private http:HttpClient,private alertController: AlertController\r\n    ,private sanitizer: DomSanitizer) { \r\n      this.leavemngtUrl= this.dataService.base_path;\r\n      this.supervisorStatus = this.dataService.isSupervisor\r\n    }\r\n    loadImage() {\r\n      this.dataService.getImage(this.dataService.logopath, this.dataService.Oid).subscribe(\r\n        (imageBlob: Blob) => {\r\n          const imageUrl = URL.createObjectURL(imageBlob);\r\n          // console.log(\"image url\",imageUrl);\r\n          \r\n          this.imageSrc = this.sanitizer.bypassSecurityTrustUrl(imageUrl);\r\n          // console.log(\"image src\",this.imageSrc);\r\n          \r\n        },\r\n        (error) => {\r\n          console.error('Failed to load image', error);\r\n        }\r\n      );\r\n    }\r\n    // loadImage() {\r\n    //   const locallyStoredImage = localStorage.getItem('logoImage');\r\n    //   if (locallyStoredImage) {\r\n    //     // If the image is already stored locally, use it directly\r\n    //     this.imageSrc = this.sanitizer.bypassSecurityTrustUrl(locallyStoredImage);\r\n    //   } else {\r\n    //     // If the image is not available locally, fetch it from the server and store it locally\r\n    //     this.dataService.getImage().subscribe(\r\n    //       (imageBlob: Blob) => {\r\n    //         const reader = new FileReader();\r\n    //         reader.onloadend = () => {\r\n    //           const base64data = reader.result as string;\r\n    //           this.imageSrc = this.sanitizer.bypassSecurityTrustUrl(base64data);\r\n    //           // Store the image locally\r\n    //           this.storeImageLocally(base64data);\r\n    //         };\r\n    //         reader.readAsDataURL(imageBlob);\r\n    //       },\r\n    //       (error) => {\r\n    //         console.error('Failed to load image', error);\r\n    //       }\r\n    //     );\r\n    //   }\r\n    // }\r\n  // Function to store the image in localStorage\r\n  // storeImageLocally(base64data: string) {\r\n  //   localStorage.setItem('logoImage', base64data);\r\n  // }\r\n\r\n    ngOnInit() {\r\n      this.getcount = this.dataService.getpacount;\r\n      console.log(\"get count pa\",this.getcount);\r\n      \r\n      this.resConfig = this.dataService.confData;\r\n      this.userId = this.dataService.Uid;\r\n      this.orgId = this.dataService.Oid;\r\n      this.loadImage();\r\n    }\r\n  \r\n  ionViweDidEnter(){\r\n    \r\n  }\r\n\r\n  async openDatePicker(inputFieldName: string) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Select Date',\r\n      inputs: [\r\n        {\r\n          name: 'selectedDate',\r\n          type: 'date',\r\n          placeholder: 'Select Date',\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n        {\r\n          text: 'OK',\r\n          handler: (data) => {\r\n            // Handle the selected date\r\n            this.handleSelectedDate(inputFieldName, data.selectedDate);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  handleSelectedDate(inputFieldName: string, selectedDate: string) {\r\n    // Handle the selected date based on the input field name\r\n    if (inputFieldName === 'start_date') {\r\n      this.start_date = selectedDate;\r\n    } else  {\r\n      \r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  searchData(){\r\n    if (!this.start_date ) {\r\n      const toast = this.toastController.create({\r\n        message: 'Please fill in all the required fields.',\r\n        duration: 2000,\r\n        position: 'middle'\r\n      }).then(toast => {\r\n        toast.present();\r\n      });\r\n      return;\r\n    }\r\n    let penAppData =\r\n    {\r\n\r\n           \r\n            \"org_id\":this.orgId,\r\n            \"user_id\":this.userId,\r\n            \"fromDate\" : this.start_date\r\n      \r\n      }\r\n      \r\n\r\n      this.pencountData = this.http.post(this.leavemngtUrl+'/lsupp/teamleaves',JSON.stringify(penAppData),this.dataService.jsonauthToken);\r\n      this.pencountData.subscribe(res=>{\r\n        this.pencountRes=res.data;\r\n        // this.leavemngtUrl.confData = data;\r\n        this.historyCount = this.pencountRes.length;\r\n        console.log(\"pending count Response Data\"+ JSON.stringify(this.pencountRes));\r\n        \r\n      });\r\n   \r\n\r\n\r\n  }\r\n \r\n  getLeave(leaveId: number, orgId: number, userId: number) {\r\n    console.log(\"pass data\", leaveId);\r\n    console.log(\"pass data\", userId);\r\n    console.log(\"pass data\", orgId);\r\n    this.router.navigate(['/approve', leaveId, userId, orgId]);\r\n  }\r\n\r\n  \r\n\r\n}\r\n","export default \"\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n          <ion-avatar>\\n            <img [src]=\\\"imageSrc\\\" class=\\\"logo-image\\\" alt=\\\"Logo\\\">\\n          </ion-avatar>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <div *ngIf=\\\"supervisorStatus\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n          <ion-icon routerLink=\\\"/leave-application\\\" style=\\\"margin-left: 15px;\\\" slot=\\\"start\\\" name=\\\"notifications\\\"></ion-icon>\\n          <ion-badge routerLink=\\\"/leave-application\\\" slot=\\\"start\\\" color=\\\"danger\\\" \\n          style=\\\"position: absolute;margin-bottom:30px;border-radius: 10px;margin-left: 15px;\\\">{{this.dataService.getpacount}}\\n          </ion-badge>\\n          <ion-button routerLink=\\\"/search\\\" slot=\\\"start\\\">\\n            <ion-icon slot=\\\"start\\\" name=\\\"search\\\"></ion-icon>\\n          </ion-button>\\n        </ion-buttons>\\n        \\n      </div>\\n      <ion-menu-button slot=\\\"end\\\" class=\\\"menu\\\"></ion-menu-button>\\n    </ion-buttons>\\n </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"apply\\\">\\n  <h1 class=\\\"title\\\">{{resConfig[\\\"eol_title\\\"]}}</h1><br>\\n  <ion-grid class=\\\"ion-text-center\\\">\\n\\n    <ion-row class=\\\"ion-margin\\\">\\n      <ion-col>\\n        <ion-title>\\n\\n            <ion-item-divider class=\\\"phone\\\">\\n              {{resConfig[\\\"emp_from\\\"]}}<ion-input  class=\\\"no\\\"  #f3=\\\"ngModel\\\"  type=\\\"text\\\" \\n              [(ngModel)]=\\\"start_date\\\" (ionFocus)=\\\"openDatePicker('start_date')\\\" name=\\\"first3\\\" required></ion-input>\\n      \\n            </ion-item-divider>\\n           <ion-button class=\\\"ion-float-right\\\" (click)=\\\"searchData()\\\">Get EOL</ion-button><br>\\n\\n        </ion-title>\\n      </ion-col>\\n    </ion-row>\\n    <div style=\\\"margin-bottom: 10px;\\\">\\n      <ion-row>\\n        <h3 class=\\\"count\\\">Total Count:   {{historyCount}}</h3>\\n      </ion-row>\\n    </div>\\n\\n    <ion-row class=\\\"header-row\\\">\\n      <ion-col>\\n        <ion-text>From Date</ion-text>\\n      </ion-col>\\n\\n      <ion-col>\\n        <ion-text>To Date</ion-text>\\n      </ion-col>\\n\\n      <ion-col>\\n        <ion-text>Name</ion-text>\\n      </ion-col>\\n    </ion-row>\\n\\n\\n    <ion-row *ngFor=\\\"let item of pencountRes\\\">\\n      <ion-col>\\n        <ion-text (click)=\\\"getLeave(item.leaveId, item.userId, item.orgId)\\\">\\n          {{item.fromdt}}\\n        </ion-text>\\n      </ion-col>\\n\\n        <ion-col>\\n          <ion-text>\\n            {{item.todt}}\\n          </ion-text>\\n        </ion-col>\\n  \\n        <ion-col>\\n          <ion-text>\\n            {{item.name}}\\n          </ion-text>\\n        </ion-col>\\n    </ion-row>\\n\\n  </ion-grid>\\n\\n\\n</ion-content>\\n<ion-tab-bar class=\\\"tab\\\" slot=\\\"bottom\\\">\\n    <ion-tab-button tab=\\\"Order History\\\" routerLink=\\\"/supervisor\\\">\\n      <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>\\n      <ion-label>Apply Leave</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"View Brouchure\\\" routerLink=\\\"/sup-dashboard\\\">\\n      <ion-icon name=\\\"person\\\"></ion-icon>\\n      <ion-label>Sup-Dash</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"login\\\" routerLink=\\\"/leave-application\\\">\\n      <ion-icon name=\\\"create-outline\\\"></ion-icon>\\n      <ion-label>Pending Approvals</ion-label>\\n    </ion-tab-button>\\n</ion-tab-bar>\\n\";"],"names":[],"sourceRoot":"webpack:///"}